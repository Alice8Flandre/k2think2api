# =============================================================================
# K2Think API 代理服务环境变量配置文件
# 复制此文件为 .env 并根据实际情况修改配置值
# =============================================================================

# -----------------------------------------------------------------------------
# 🔐 API 认证配置
# -----------------------------------------------------------------------------

# 客户端访问API时使用的密钥
# 客户端需要在请求头中设置: Authorization: Bearer VALID_API_KEY
VALID_API_KEY=sk-k2think

# K2Think 服务的JWT Token
# 从 https://www.k2think.ai/ 获取，用于访问K2Think API
# 注意: 这是必需的配置项，请确保token有效
K2THINK_TOKEN=your_k2think_jwt_token_here

# -----------------------------------------------------------------------------
# 🌐 服务器配置
# -----------------------------------------------------------------------------

# 服务监听地址
# 0.0.0.0 表示监听所有网络接口，127.0.0.1 表示只监听本地
HOST=0.0.0.0

# 服务监听端口
# 默认8001，确保端口未被占用
PORT=8001

# -----------------------------------------------------------------------------
# 🔗 上游API配置
# -----------------------------------------------------------------------------

# K2Think API 的完整URL
# 通常不需要修改，除非K2Think更改了API地址
K2THINK_API_URL=https://www.k2think.ai/api/chat/completions

# -----------------------------------------------------------------------------
# 🛠️ 工具调用配置
# -----------------------------------------------------------------------------

# 是否启用工具调用功能
# true: 启用工具调用 | false: 禁用工具调用
TOOL_SUPPORT=true

# 工具调用文本扫描长度限制（字符数）
# 用于限制工具调用检测时扫描的文本长度，避免性能问题
SCAN_LIMIT=200000

# 系统消息长度限制（字符数）
# 用于限制系统消息的长度，避免性能问题
SYSTEM_MESSAGE_LENTH=100000

# -----------------------------------------------------------------------------
# 📝 内容处理配置
# -----------------------------------------------------------------------------

# 是否输出模型的思考过程
# true: 保留 <think></think> 标签内容 | false: 只输出 <answer></answer> 内容
OUTPUT_THINKING=true

# -----------------------------------------------------------------------------
# 🐛 调试配置
# -----------------------------------------------------------------------------

# 调试日志级别
# DEBUG: 详细日志 | INFO: 一般日志 | WARNING: 警告日志 | ERROR: 错误日志
LOG_LEVEL=INFO

# 是否启用详细的请求日志
# true: 记录详细的请求和响应信息 | false: 只记录基本信息
DEBUG_LOGGING=false

# -----------------------------------------------------------------------------
# 🔧 高级配置 (通常不需要修改)
# -----------------------------------------------------------------------------

# HTTP请求超时时间（秒）
# 发送到K2Think API的请求超时时间
REQUEST_TIMEOUT=60

# 连接池配置
# 最大保持连接数
MAX_KEEPALIVE_CONNECTIONS=20

# 最大连接数
MAX_CONNECTIONS=100

# -----------------------------------------------------------------------------
# 📊 性能配置
# -----------------------------------------------------------------------------

# 流式响应模拟延迟（秒）
# 用于控制流式输出的速度，模拟真实的流式效果
STREAM_DELAY=0.05

# 流式响应块大小（字符数）
# 每个流式响应块包含的字符数
STREAM_CHUNK_SIZE=50

# 流式响应块最大用时（秒）
# 控制流式响应块的用时，避免卡顿
MAX_STREAM_TIME=6

# -----------------------------------------------------------------------------
# 🚀 部署配置
# -----------------------------------------------------------------------------

# 应用环境
# development: 开发环境 | production: 生产环境 | testing: 测试环境
APP_ENV=development

# 是否启用访问日志
# true: 记录所有HTTP请求 | false: 不记录访问日志
ENABLE_ACCESS_LOG=true

# CORS 允许的源
# 多个源用逗号分隔，* 表示允许所有源
CORS_ORIGINS=*

# -----------------------------------------------------------------------------
# 💡 使用说明
# -----------------------------------------------------------------------------
# 
# 1. 必须配置的变量:
#    - K2THINK_TOKEN: 从 K2Think 官网获取的有效 JWT Token
#
# 2. 推荐配置的变量:
#    - VALID_API_KEY: 设置一个安全的API密钥
#    - HOST: 根据部署环境调整
#    - PORT: 根据需要调整端口
#
# 3. 可选配置的变量:
#    - OUTPUT_THINKING: 根据需要是否显示思考过程
#    - TOOL_SUPPORT: 是否启用工具调用功能
#    - DEBUG_LOGGING: 开发时可启用详细日志
#
# 4. 获取 K2Think Token:
#    - 访问 https://www.k2think.ai/
#    - 登录账户
#    - 在开发者设置中获取 JWT Token
#
# 5. 测试配置:
#    - 配置完成后运行: python k2think_proxy.py
#    - 或调试模式: python start_debug.py
#    - 运行测试: cd test && python run_all_tests.py
#
# -----------------------------------------------------------------------------